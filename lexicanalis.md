**Лексический анализатор (лексер, сканер)** — это компонент компилятора или интерпретатора, предшествующий синтаксическому анализатору. Его задача — преобразование исходного текста программы (строки символов) в последовательность элементарных смысловых единиц, называемых **лексемами** (токенами). Таким образом, лексический анализатор выступает "фильтром", отделяющим синтаксический анализатор от подробностей текста, разбивая его на понятные единицы.

---

**Что такое лексемы?**

**Лексема (token)** — это минимальная синтактически значимая единица языка. Примеры лексем включают:

1. **Идентификаторы:** имена переменных, функций, классов, например `x`, `counter`, `print`.
2. **Ключевые слова:** зарезервированные имена, определённые языком, например `if`, `else`, `while`, `return`.
3. **Литералы:** константные значения, такие как числовые литералы (`42`, `3.14`), строковые литералы (`"Hello"`) или булевы (`true`, `false`).
4. **Операторы и знаки препинания (delimiters):** `+`, `-`, `*`, `/`, `=`, `;`, `,`, `(`, `)`, `{`, `}` и т.д.
5. **Комментарии:** как правило, комментарии не становятся отдельными лексемами для синтаксического анализатора, а отбрасываются, но детектируются лексером, чтобы их игнорировать.

Лексема обычно представляется парой (тип токена, значение), где тип — это класс лексемы (например, `IDENT`, `NUMBER`, `STRING`, `KEYWORD_IF`), а значение — конкретный текст, соответствующий лексеме (или же только её интерпретация, например, числовое значение).

---

**Основные задачи лексического анализатора:**

1. **Разбиение потока символов на лексемы:** Идёт последовательное чтение входного текста и группировка символов в осмысленные единицы.
2. **Пропуск несущественных элементов:** Пробелы, переводы строк и комментарии обычно не нужны синтаксическому анализатору.
3. **Категоризация лексем:** Определение типа лексемы на основе её формы. Например, последовательность цифр — это числовой литерал, определённое зарезервированное слово — ключевое слово, а последовательность букв и цифр, не являющаяся ключевым словом, может быть идентификатором.
4. **Обработка ошибок:** Если символы не составляют корректную лексему, лексер сообщает об ошибках (например, неизвестный символ или неправильный формат числа).

---

**Способы реализации лексического анализатора:**

Существует несколько подходов к реализации лексеров:

1. **Ручная реализация на основе состояний (Ad hoc методы):**  
   - **Описание:** Программист пишет код вручную, пошагово считывая символы и определяя, к какому типу лексемы они относятся.  
   - **Плюсы:**  
     - Полный контроль над процессом.  
     - Гибкость: можно реализовать любые нестандартные правила.  
   - **Минусы:**  
     - Более трудоёмко и подвержено ошибкам, особенно если язык сложен.  
     - Трудно поддерживать и расширять.

2. **Регулярные выражения и конечные автоматы:**
   - **Описание:** Основная идея — каждая категория лексем обычно описывается некоторым регулярным выражением. Затем множество этих выражений преобразуется в детерминированный конечный автомат (DFA), который осуществляет разбор входного текста.
   - **Плюсы:**  
     - Регулярные выражения — мощный и понятный способ задать шаблоны для лексем.  
     - Генераторы сканеров (например, Flex) могут автоматически сгенерировать код лексера по заданным регуляркам.
   - **Минусы:**  
     - Необходимость изучать синтаксис конкретного генератора и понимать теорию конечных автоматов.  
     - В некоторых случаях могут быть сложности с управлением предшествующими/последующими контекстами.

3. **Использование генераторов лексеров (сканнеров):**  
   - **Инструменты:** Flex (для C/C++), ANTLR (Java и другие), Lex (классический генератор для C).  
   - **Описание:** Вы описываете правила лексинга в виде набора регулярных выражений и соответствующих действий. Генератор по этим правилам создает код лексера.  
   - **Плюсы:**  
     - Ускоряет разработку: не нужно вручную писать сложный код.  
     - Легко вносить изменения: достаточно скорректировать грамматику лексера.
   - **Минусы:**  
     - Меньше контроля за внутренними деталями реализации.  
     - Потенциально сложнее отладка, когда возникают трудные ошибки.

4. **Комбинаторные подходы:**  
   - **Описание:** В функциональных языках иногда применяются парсер-комбинаторы и для лексинга, описывая набор функций-распознавателей лексем, которые можно комбинировать.  
   - **Плюсы:**  
     - Декларативный стиль, удобство модульного описания.  
   - **Минусы:**  
     - Менее эффективен при больших объёмах кода.  
     - Сложнее контролировать производительность.

5. **Специализированные библиотеки и фреймворки:**  
   - Существуют готовые решения, которые либо идут вместе с парсером (например, лексеры в ANTLR), либо предоставляют интеграцию с различными IDE, обеспечивая подсветку синтаксиса, что фактически — отдельная задача лексирования.

---

**Выбор подхода:**  
- Для простых собственных языков или конфигурационных форматов разработчик может вручную написать лексер, используя if-else конструкции или переключатели по состояниям.  
- Для промышленных языков программисты чаще полагаются на генераторы, такие как Lex/Flex вместе с Yacc/Bison или ANTLR, где грамматика языка описывается декларативно, а остальное решает генератор.

Итоговая цель лексического анализатора — из неструктурированной строки символов получить поток чётко определённых лексем, с которыми затем будет работать синтаксический анализатор.